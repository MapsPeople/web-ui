import{r as ji,c as di,h as B,H as Ai}from"./index-584d014c.js";import{c as zi,a as xi}from"./_commonjsHelpers-ba3f0406-a4eace81.js";var Si=zi(function(o,s){(function(M,g){var T="1.0.35",E="",ai="?",W="function",C="undefined",H="object",P="string",si="major",e="model",n="name",i="type",t="vendor",a="version",O="architecture",S="console",b="mobile",N="tablet",d="smarttv",j="wearable",q="embedded",J=350,_="Amazon",f="Apple",ri="ASUS",Mi="BlackBerry",A="Browser",U="Chrome",pi="Edge",Y="Firefox",Q="Google",ci="Huawei",X="LG",F="Microsoft",ui="Motorola",R="Opera",$="Samsung",Ni="Sharp",Z="Sony",ii="Xiaomi",ei="Zebra",bi="Facebook",li="Chromium OS",gi="Mac OS",hi=function(l,I){var u={};for(var D in l)I[D]&&I[D].length%2===0?u[D]=I[D].concat(l[D]):u[D]=l[D];return u},G=function(l){for(var I={},u=0;u<l.length;u++)I[l[u].toUpperCase()]=l[u];return I},wi=function(l,I){return typeof l===P?v(I).indexOf(v(l))!==-1:!1},v=function(l){return l.toLowerCase()},yi=function(l){return typeof l===P?l.replace(/[^\d\.]/g,E).split(".")[0]:g},ti=function(l,I){if(typeof l===P)return l=l.replace(/^\s\s*/,E),typeof I===C?l:l.substring(0,J)},k=function(l,I){for(var u=0,D,y,p,w,r,h;u<I.length&&!r;){var ni=I[u],Ti=I[u+1];for(D=y=0;D<ni.length&&!r&&ni[D];)if(r=ni[D++].exec(l),r)for(p=0;p<Ti.length;p++)h=r[++y],w=Ti[p],typeof w===H&&w.length>0?w.length===2?typeof w[1]==W?this[w[0]]=w[1].call(this,h):this[w[0]]=w[1]:w.length===3?typeof w[1]===W&&!(w[1].exec&&w[1].test)?this[w[0]]=h?w[1].call(this,h,w[2]):g:this[w[0]]=h?h.replace(w[1],w[2]):g:w.length===4&&(this[w[0]]=h?w[3].call(this,h.replace(w[1],w[2])):g):this[w]=h||g;u+=2}},oi=function(l,I){for(var u in I)if(typeof I[u]===H&&I[u].length>0){for(var D=0;D<I[u].length;D++)if(wi(I[u][D],l))return u===ai?g:u}else if(wi(I[u],l))return u===ai?g:u;return l},Ei={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ii={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Di={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[a,[n,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[a,[n,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[n,a],[/opios[\/ ]+([\w\.]+)/i],[a,[n,R+" Mini"]],[/\bopr\/([\w\.]+)/i],[a,[n,R]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[n,a],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[a,[n,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[a,[n,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[a,[n,"WeChat"]],[/konqueror\/([\w\.]+)/i],[a,[n,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[a,[n,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[a,[n,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[n,/(.+)/,"$1 Secure "+A],a],[/\bfocus\/([\w\.]+)/i],[a,[n,Y+" Focus"]],[/\bopt\/([\w\.]+)/i],[a,[n,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[a,[n,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[a,[n,"Dolphin"]],[/coast\/([\w\.]+)/i],[a,[n,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[a,[n,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[a,[n,Y]],[/\bqihu|(qi?ho?o?|360)browser/i],[[n,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[n,/(.+)/,"$1 "+A],a],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],a],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[n,a],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[n],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[n,bi],a],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[n,a],[/\bgsa\/([\w\.]+) .*safari\//i],[a,[n,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[a,[n,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[a,[n,U+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[n,U+" WebView"],a],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[a,[n,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[n,a],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[a,[n,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[a,n],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[n,[a,oi,Ei]],[/(webkit|khtml)\/([\w\.]+)/i],[n,a],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[n,"Netscape"],a],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[a,[n,Y+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[n,a],[/(cobalt)\/([\w\.]+)/i],[n,[a,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,v]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,E,v]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,v]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[e,[t,$],[i,N]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[e,[t,$],[i,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[e,[t,f],[i,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[e,[t,f],[i,N]],[/(macintosh);/i],[e,[t,f]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[e,[t,Ni],[i,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[e,[t,ci],[i,N]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[e,[t,ci],[i,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[e,/_/g," "],[t,ii],[i,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[e,/_/g," "],[t,ii],[i,N]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[e,[t,"OPPO"],[i,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[e,[t,"Vivo"],[i,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[e,[t,"Realme"],[i,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[e,[t,ui],[i,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[e,[t,ui],[i,N]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[e,[t,X],[i,N]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[e,[t,X],[i,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[e,[t,"Lenovo"],[i,N]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[e,/_/g," "],[t,"Nokia"],[i,b]],[/(pixel c)\b/i],[e,[t,Q],[i,N]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[e,[t,Q],[i,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[t,Z],[i,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[e,"Xperia Tablet"],[t,Z],[i,N]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[e,[t,"OnePlus"],[i,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[e,[t,_],[i,N]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[e,/(.+)/g,"Fire Phone $1"],[t,_],[i,b]],[/(playbook);[-\w\),; ]+(rim)/i],[e,t,[i,N]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[e,[t,Mi],[i,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[e,[t,ri],[i,N]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[e,[t,ri],[i,b]],[/(nexus 9)/i],[e,[t,"HTC"],[i,N]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[t,[e,/_/g," "],[i,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[e,[t,"Acer"],[i,N]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[e,[t,"Meizu"],[i,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[t,e,[i,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[t,e,[i,N]],[/(surface duo)/i],[e,[t,F],[i,N]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[e,[t,"Fairphone"],[i,b]],[/(u304aa)/i],[e,[t,"AT&T"],[i,b]],[/\bsie-(\w*)/i],[e,[t,"Siemens"],[i,b]],[/\b(rct\w+) b/i],[e,[t,"RCA"],[i,N]],[/\b(venue[\d ]{2,7}) b/i],[e,[t,"Dell"],[i,N]],[/\b(q(?:mv|ta)\w+) b/i],[e,[t,"Verizon"],[i,N]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[e,[t,"Barnes & Noble"],[i,N]],[/\b(tm\d{3}\w+) b/i],[e,[t,"NuVision"],[i,N]],[/\b(k88) b/i],[e,[t,"ZTE"],[i,N]],[/\b(nx\d{3}j) b/i],[e,[t,"ZTE"],[i,b]],[/\b(gen\d{3}) b.+49h/i],[e,[t,"Swiss"],[i,b]],[/\b(zur\d{3}) b/i],[e,[t,"Swiss"],[i,N]],[/\b((zeki)?tb.*\b) b/i],[e,[t,"Zeki"],[i,N]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[t,"Dragon Touch"],e,[i,N]],[/\b(ns-?\w{0,9}) b/i],[e,[t,"Insignia"],[i,N]],[/\b((nxa|next)-?\w{0,9}) b/i],[e,[t,"NextBook"],[i,N]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[t,"Voice"],e,[i,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[t,"LvTel"],e,[i,b]],[/\b(ph-1) /i],[e,[t,"Essential"],[i,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[e,[t,"Envizen"],[i,N]],[/\b(trio[-\w\. ]+) b/i],[e,[t,"MachSpeed"],[i,N]],[/\btu_(1491) b/i],[e,[t,"Rotor"],[i,N]],[/(shield[\w ]+) b/i],[e,[t,"Nvidia"],[i,N]],[/(sprint) (\w+)/i],[t,e,[i,b]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[t,F],[i,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[e,[t,ei],[i,N]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[e,[t,ei],[i,b]],[/smart-tv.+(samsung)/i],[t,[i,d]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[t,$],[i,d]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[t,X],[i,d]],[/(apple) ?tv/i],[t,[e,f+" TV"],[i,d]],[/crkey/i],[[e,U+"cast"],[t,Q],[i,d]],[/droid.+aft(\w)( bui|\))/i],[e,[t,_],[i,d]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[e,[t,Ni],[i,d]],[/(bravia[\w ]+)( bui|\))/i],[e,[t,Z],[i,d]],[/(mitv-\w{5}) bui/i],[e,[t,ii],[i,d]],[/Hbbtv.*(technisat) (.*);/i],[t,e,[i,d]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[t,ti],[e,ti],[i,d]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[i,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[t,e,[i,S]],[/droid.+; (shield) bui/i],[e,[t,"Nvidia"],[i,S]],[/(playstation [345portablevi]+)/i],[e,[t,Z],[i,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[e,[t,F],[i,S]],[/((pebble))app/i],[t,e,[i,j]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[e,[t,f],[i,j]],[/droid.+; (glass) \d/i],[e,[t,Q],[i,j]],[/droid.+; (wt63?0{2,3})\)/i],[e,[t,ei],[i,j]],[/(quest( 2| pro)?)/i],[e,[t,bi],[i,j]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[t,[i,q]],[/(aeobc)\b/i],[e,[t,_],[i,q]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[e,[i,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[e,[i,N]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[i,N]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[i,b]],[/(android[-\w\. ]{0,9});.+buil/i],[e,[t,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[a,[n,pi+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[a,[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[n,a],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[a,n]],os:[[/microsoft (windows) (vista|xp)/i],[n,a],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[n,[a,oi,Ii]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[n,"Windows"],[a,oi,Ii]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[a,/_/g,"."],[n,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[n,gi],[a,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[a,n],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[n,a],[/\(bb(10);/i],[a,[n,Mi]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[a,[n,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[a,[n,Y+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[a,[n,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[a,[n,"watchOS"]],[/crkey\/([\d\.]+)/i],[a,[n,U+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[n,li],a],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[n,a],[/(sunos) ?([\w\.\d]*)/i],[[n,"Solaris"],a],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[n,a]]},m=function(l,I){if(typeof l===H&&(I=l,l=g),!(this instanceof m))return new m(l,I).getResult();var u=typeof M!==C&&M.navigator?M.navigator:g,D=l||(u&&u.userAgent?u.userAgent:E),y=u&&u.userAgentData?u.userAgentData:g,p=I?hi(Di,I):Di,w=u&&u.userAgent==D;return this.getBrowser=function(){var r={};return r[n]=g,r[a]=g,k.call(r,D,p.browser),r[si]=yi(r[a]),w&&u&&u.brave&&typeof u.brave.isBrave==W&&(r[n]="Brave"),r},this.getCPU=function(){var r={};return r[O]=g,k.call(r,D,p.cpu),r},this.getDevice=function(){var r={};return r[t]=g,r[e]=g,r[i]=g,k.call(r,D,p.device),w&&!r[i]&&y&&y.mobile&&(r[i]=b),w&&r[e]=="Macintosh"&&u&&typeof u.standalone!==C&&u.maxTouchPoints&&u.maxTouchPoints>2&&(r[e]="iPad",r[i]=N),r},this.getEngine=function(){var r={};return r[n]=g,r[a]=g,k.call(r,D,p.engine),r},this.getOS=function(){var r={};return r[n]=g,r[a]=g,k.call(r,D,p.os),w&&!r[n]&&y&&y.platform!="Unknown"&&(r[n]=y.platform.replace(/chrome os/i,li).replace(/macos/i,gi)),r},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return D},this.setUA=function(r){return D=typeof r===P&&r.length>J?ti(r,J):r,this},this.setUA(D),this};m.VERSION=T,m.BROWSER=G([n,a,si]),m.CPU=G([O]),m.DEVICE=G([e,t,i,S,b,d,N,j,q]),m.ENGINE=m.OS=G([n,a]),o.exports&&(s=o.exports=m),s.UAParser=m;var z=typeof M!==C&&(M.jQuery||M.Zepto);if(z&&!z.ua){var K=new m;z.ua=K.getResult(),z.ua.get=function(){return K.getUA()},z.ua.set=function(l){K.setUA(l);var I=K.getResult();for(var u in I)z.ua[u]=I[u]}}})(typeof window=="object"?window:xi)}),fi=function(s){return vi(s)&&!ki(s)};function vi(o){return!!o&&typeof o=="object"}function ki(o){var s=Object.prototype.toString.call(o);return s==="[object RegExp]"||s==="[object Date]"||Pi(o)}var Li=typeof Symbol=="function"&&Symbol.for,Ci=Li?Symbol.for("react.element"):60103;function Pi(o){return o.$$typeof===Ci}function _i(o){return Array.isArray(o)?[]:{}}function L(o,s){return s.clone!==!1&&s.isMergeableObject(o)?x(_i(o),o,s):o}function Ui(o,s,M){return o.concat(s).map(function(g){return L(g,M)})}function Yi(o,s){if(!s.customMerge)return x;var M=s.customMerge(o);return typeof M=="function"?M:x}function Qi(o){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(o).filter(function(s){return Object.propertyIsEnumerable.call(o,s)}):[]}function Oi(o){return Object.keys(o).concat(Qi(o))}function mi(o,s){try{return s in o}catch{return!1}}function Ri(o,s){return mi(o,s)&&!(Object.hasOwnProperty.call(o,s)&&Object.propertyIsEnumerable.call(o,s))}function Zi(o,s,M){var g={};return M.isMergeableObject(o)&&Oi(o).forEach(function(T){g[T]=L(o[T],M)}),Oi(s).forEach(function(T){Ri(o,T)||(mi(o,T)&&M.isMergeableObject(s[T])?g[T]=Yi(T,M)(o[T],s[T],M):g[T]=L(s[T],M))}),g}function x(o,s,M){M=M||{},M.arrayMerge=M.arrayMerge||Ui,M.isMergeableObject=M.isMergeableObject||fi,M.cloneUnlessOtherwiseSpecified=L;var g=Array.isArray(s),T=Array.isArray(o),E=g===T;return E?g?M.arrayMerge(o,s,M):Zi(o,s,M):L(s,M)}x.all=function(s,M){if(!Array.isArray(s))throw new Error("first argument should be an array");return s.reduce(function(g,T){return x(g,T,M)},{})};var Gi=x,Ki=Gi;const Bi=".mi-my-position{margin:10px;display:flex;flex-direction:column;pointer-events:auto;gap:16px;right:0}.mi-my-position__position-button,.mi-my-position__compass-button{margin:0;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:48px;height:48px;background-repeat:no-repeat;background-position:center;outline:none;border-color:#e5e7eb;border-style:solid;background-color:#fcfcfc}.mi-my-position__position-button{background-size:23px;border-radius:8px}.mi-my-position__position-button--unknown{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjY1NTIzIDEuMjIzNTZDMy4yNjQ3IDAuODMzMDMzIDIuNjMxNTQgMC44MzMwMzMgMi4yNDEwMSAxLjIyMzU2QzEuODUwNDkgMS42MTQwOCAxLjg1MDQ5IDIuMjQ3MjUgMi4yNDEwMSAyLjYzNzc3TDIyLjI2NiAyMi42NjI4QzIyLjY1NjUgMjMuMDUzMyAyMy4yODk3IDIzLjA1MzMgMjMuNjgwMiAyMi42NjI4QzI0LjA3MDcgMjIuMjcyMiAyNC4wNzA3IDIxLjYzOTEgMjMuNjgwMiAyMS4yNDg1TDE3LjcxNTcgMTUuMjg0MUwyMC43NzQ4IDcuMzYzMjVDMjEuNTYyOSA1LjMyMzE1IDE5LjU1NjIgMy4zMTY2NiAxNy41MTYyIDQuMTA0NTVMOS41OTUzNSA3LjE2MzY4TDMuNjU1MjMgMS4yMjM1NlpNMTEuMTQyIDguNzEwMzJMMTYuMTY5MSAxMy43Mzc0TDE4LjkwOTIgNi42NDI2MUMxOS4wNzE4IDYuMjIxNzIgMTguNjU3OCA1LjgwNzY0IDE4LjIzNjggNS45NzAyNEwxMS4xNDIgOC43MTAzMloiIGZpbGw9IiM3MzczNzMiLz4KPHBhdGggZD0iTTEzLjI1MTggMjEuMjkxMkwxNC45OTIxIDE2Ljc4NDlMMTYuNTM4OCAxOC4zMzE1TDE1LjExNzQgMjIuMDExOEMxNC4wNjc3IDI0LjcyOTYgMTAuMTUwOCAyNC41MDY5IDkuNDE1OTMgMjEuNjg3Nkw4LjEyOTA1IDE2Ljc1MDVMMy4xOTE4IDE1LjQ2MzZDMC4zNzI1MSAxNC43Mjg3IDAuMTQ5ODEyIDEwLjgxMTcgMi44Njc2NCA5Ljc2Mkw2LjY0NTEyIDguMzAzMDlMOC4xOTE3NyA5Ljg0OTc0TDMuNTg4MTkgMTEuNjI3N0MyLjY4MjI0IDExLjk3NzYgMi43NTY0OCAxMy4yODMzIDMuNjk2MjUgMTMuNTI4Mkw4LjYzMzUgMTQuODE1MUM5LjMzNDQzIDE0Ljk5NzggOS44ODE3OCAxNS41NDUyIDEwLjA2NDQgMTYuMjQ2TDExLjM1MTMgMjEuMTgzMkMxMS41OTYyIDIyLjEyMjkgMTIuOTAxOSAyMi4xOTcyIDEzLjI1MTggMjEuMjkxMloiIGZpbGw9IiM3MzczNzMiLz4KPC9zdmc+Cg==)}.mi-my-position__position-button--requesting{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuODkzNDEgMTEuMjgzTDEuOTU2MTYgOS45OTYxMUMwLjA3NjYyOTIgOS41MDYyIC0wLjA3MTg0MTEgNi44OTQ4NSAxLjc0MDA1IDYuMTk1MDdMMTYuMzg4NiAwLjUzNzYxN0MxNy42MTkxIDAuMDYyMzc2NiAxOC44Mjk0IDEuMjcyNjYgMTguMzU0MSAyLjUwMzE2TDEyLjY5NjcgMTcuMTUxN0MxMS45OTY5IDE4Ljk2MzYgOS4zODU2NCAxOC44MTUxIDguODk1NzQgMTYuOTM1Nkw3LjYwODg0IDExLjk5ODRDNy41MTc1NCAxMS42NDggNy4yNDM4NiAxMS4zNzQzIDYuODkzNDEgMTEuMjgzWiIgZmlsbD0iIzczNzM3MyIvPgo8L3N2Zz4K)}.mi-my-position__position-button--known{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuODkzNDEgMTEuMjgzTDEuOTU2MTYgOS45OTYxMUMwLjA3NjYyOTIgOS41MDYyIC0wLjA3MTg0MTEgNi44OTQ4NSAxLjc0MDA1IDYuMTk1MDdMMTYuMzg4NiAwLjUzNzYxN0MxNy42MTkxIDAuMDYyMzc2NiAxOC44Mjk0IDEuMjcyNjYgMTguMzU0MSAyLjUwMzE2TDEyLjY5NjcgMTcuMTUxN0MxMS45OTY5IDE4Ljk2MzYgOS4zODU2NCAxOC44MTUxIDguODk1NzQgMTYuOTM1Nkw3LjYwODg0IDExLjk5ODRDNy41MTc1NCAxMS42NDggNy4yNDM4NiAxMS4zNzQzIDYuODkzNDEgMTEuMjgzWiIgZmlsbD0iIzczNzM3MyIvPgo8L3N2Zz4K)}.mi-my-position__position-button--centered{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAxOSAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuODkzNDEgMTEuMjgzTDEuOTU2MTYgOS45OTYxMUMwLjA3NjYyOTIgOS41MDYyIC0wLjA3MTg0MTEgNi44OTQ4NSAxLjc0MDA1IDYuMTk1MDdMMTYuMzg4NiAwLjUzNzYxN0MxNy42MTkxIDAuMDYyMzc2NiAxOC44Mjk0IDEuMjcyNjYgMTguMzU0MSAyLjUwMzE2TDEyLjY5NjcgMTcuMTUxN0MxMS45OTY5IDE4Ljk2MzYgOS4zODU2NCAxOC44MTUxIDguODk1NzQgMTYuOTM1Nkw3LjYwODg0IDExLjk5ODRDNy41MTc1NCAxMS42NDggNy4yNDM4NiAxMS4zNzQzIDYuODkzNDEgMTEuMjgzWiIgZmlsbD0iIzI1NjNFQiIvPgo8L3N2Zz4K)}.mi-my-position__position-button--tracked{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNSAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjQ2MDQgMTMuNDMwOUMxMy4wMTI3IDEzLjQzMDkgMTMuNDYwNCAxMi45ODMyIDEzLjQ2MDQgMTIuNDMwOUMxMy40NjA0IDExLjg3ODYgMTMuMDEyNyAxMS40MzA5IDEyLjQ2MDQgMTEuNDMwOUMxMS45MDgxIDExLjQzMDkgMTEuNDYwNCAxMS44Nzg2IDExLjQ2MDQgMTIuNDMwOUMxMS40NjA0IDEyLjk4MzIgMTEuOTA4MSAxMy40MzA5IDEyLjQ2MDQgMTMuNDMwOVoiIGZpbGw9IiMyNTYzRUIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMi40NjA0IDEyLjQzMDlDMjIuNDYwNCAxNy45NTM3IDE3Ljk4MzIgMjIuNDMwOSAxMi40NjA0IDIyLjQzMDlDNi45Mzc2IDIyLjQzMDkgMi40NjA0NSAxNy45NTM3IDIuNDYwNDUgMTIuNDMwOUMyLjQ2MDQ1IDYuOTA4MDYgNi45Mzc2IDIuNDMwOTEgMTIuNDYwNCAyLjQzMDkxQzE3Ljk4MzIgMi40MzA5MSAyMi40NjA0IDYuOTA4MDYgMjIuNDYwNCAxMi40MzA5Wk0xNS44Mzc5IDguNDQ2MTJMMTAuNTM4OSA5Ljc4NDc4QzEwLjE4MjYgOS44NzQ4IDkuOTA0MzYgMTAuMTUzIDkuODE0MzQgMTAuNTA5NEw4LjQ3NTcyIDE1LjgwODRDOC4zODMgMTYuMTc1NSA4LjcxNTk0IDE2LjUwODQgOS4wODI5NSAxNi40MTU3TDE0LjM4MTkgMTUuMDc3QzE0LjczODMgMTQuOTg3IDE1LjAxNjUgMTQuNzA4OCAxNS4xMDY2IDE0LjM1MjRMMTYuNDQ1MiA5LjA1MzM1QzE2LjUzNzkgOC42ODYzMyAxNi4yMDUgOC4zNTM0IDE1LjgzNzkgOC40NDYxMloiIGZpbGw9IiMyNTYzRUIiLz4KPC9zdmc+Cg==)}.mi-my-position__position-button--untracked{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNSAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjQ2MDQgMTMuNDMwOUMxMy4wMTI3IDEzLjQzMDkgMTMuNDYwNCAxMi45ODMyIDEzLjQ2MDQgMTIuNDMwOUMxMy40NjA0IDExLjg3ODYgMTMuMDEyNyAxMS40MzA5IDEyLjQ2MDQgMTEuNDMwOUMxMS45MDgxIDExLjQzMDkgMTEuNDYwNCAxMS44Nzg2IDExLjQ2MDQgMTIuNDMwOUMxMS40NjA0IDEyLjk4MzIgMTEuOTA4MSAxMy40MzA5IDEyLjQ2MDQgMTMuNDMwOVoiIGZpbGw9IiMwMDAwMDAiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMi40NjA0IDEyLjQzMDlDMjIuNDYwNCAxNy45NTM3IDE3Ljk4MzIgMjIuNDMwOSAxMi40NjA0IDIyLjQzMDlDNi45Mzc2IDIyLjQzMDkgMi40NjA0NSAxNy45NTM3IDIuNDYwNDUgMTIuNDMwOUMyLjQ2MDQ1IDYuOTA4MDYgNi45Mzc2IDIuNDMwOTEgMTIuNDYwNCAyLjQzMDkxQzE3Ljk4MzIgMi40MzA5MSAyMi40NjA0IDYuOTA4MDYgMjIuNDYwNCAxMi40MzA5Wk0xNS44Mzc5IDguNDQ2MTJMMTAuNTM4OSA5Ljc4NDc4QzEwLjE4MjYgOS44NzQ4IDkuOTA0MzYgMTAuMTUzIDkuODE0MzQgMTAuNTA5NEw4LjQ3NTcyIDE1LjgwODRDOC4zODMgMTYuMTc1NSA4LjcxNTk0IDE2LjUwODQgOS4wODI5NSAxNi40MTU3TDE0LjM4MTkgMTUuMDc3QzE0LjczODMgMTQuOTg3IDE1LjAxNjUgMTQuNzA4OCAxNS4xMDY2IDE0LjM1MjRMMTYuNDQ1MiA5LjA1MzM1QzE2LjUzNzkgOC42ODYzMyAxNi4yMDUgOC4zNTM0IDE1LjgzNzkgOC40NDYxMloiIGZpbGw9IiMwMDAwMDAiLz4KPC9zdmc+Cg==)}.mi-my-position__compass-button{background-size:12px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAxMyAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTUuNTQ4MTMgMi45NjI0MUM1LjkwMTU5IDIuMTc1MjcgNy4wMTkxNSAyLjE3NTI3IDcuMzcyNjIgMi45NjI0MUwxMS41OTI5IDEyLjM2MDZDMTEuOTQ5MSAxMy4xNTM4IDExLjE5MzEgMTMuOTkyMyAxMC4zNjczIDEzLjcxOTlMNi43NzM2NyAxMi41MzQzQzYuNTcwMiAxMi40NjcxIDYuMzUwNTQgMTIuNDY3MSA2LjE0NzA3IDEyLjUzNDNMMi41NTM0MyAxMy43MTk5QzEuNzI3NjggMTMuOTkyMyAwLjk3MTY4MyAxMy4xNTM4IDEuMzI3ODggMTIuMzYwNkw1LjU0ODEzIDIuOTYyNDFaIiBmaWxsPSIjREMyNjI2Ii8+CjxwYXRoIGQ9Ik03LjM3MjUzIDI3Ljg5OTRDNy4wMTkwNiAyOC42ODY1IDUuOTAxNSAyOC42ODY1IDUuNTQ4MDQgMjcuODk5NEwxLjMyNzc5IDE4LjUwMTJDMC45NzE1OTcgMTcuNzA4IDEuNzI3NTkgMTYuODY5NSAyLjU1MzM0IDE3LjE0Mkw2LjE0Njk4IDE4LjMyNzVDNi4zNTA0NiAxOC4zOTQ3IDYuNTcwMTEgMTguMzk0NyA2Ljc3MzU5IDE4LjMyNzVMMTAuMzY3MiAxNy4xNDJDMTEuMTkzIDE2Ljg2OTUgMTEuOTQ5IDE3LjcwOCAxMS41OTI4IDE4LjUwMTJMNy4zNzI1MyAyNy44OTk0WiIgZmlsbD0iIzlDQTNBRiIvPgo8L3N2Zz4K);border-radius:50%}";var c;(function(o){o.POSITION_UNKNOWN="POSITION_UNKNOWN",o.POSITION_REQUESTING="POSITION_REQUESTING",o.POSITION_INACCURATE="POSITION_INACCURATE",o.POSITION_KNOWN="POSITION_KNOWN",o.POSITION_CENTERED="POSITION_CENTERED",o.POSITION_TRACKED="POSITION_TRACKED",o.POSITION_UNTRACKED="POSITION_UNTRACKED"})(c||(c={}));var V;(function(o){o.Phone="mobile",o.Tablet="tablet"})(V||(V={}));const Vi=class{constructor(o){ji(this,o),this.position_error=di(this,"position_error",7),this.position_received=di(this,"position_received",7),this.parser=new Si.UAParser,this.handleDeviceOrientationReference=this.handleDeviceOrientation.bind(this),this.defaultOptions={maxAccuracy:200,positionOptions:{timeout:3e4,enableHighAccuracy:!0,maximumAge:0},positionMarkerStyles:{radius:"12px",strokeWeight:"2px",strokeColor:"white",fillColor:"#4169E1",fillOpacity:1},accuracyCircleStyles:{fillColor:"#4169E1",fillOpacity:.16}},this.mapsindoors=void 0,this.myPositionOptions=void 0,this.positionState=void 0}resetPositionState(){window.removeEventListener("deviceorientation",this.handleDeviceOrientationReference),this.positionState===c.POSITION_TRACKED?this.setPositionState(c.POSITION_UNTRACKED):this.positionState===c.POSITION_CENTERED&&(this.setPositionState(c.POSITION_KNOWN),this.mapView.tilt(0))}hasValidPosition(){return[c.POSITION_KNOWN,c.POSITION_CENTERED,c.POSITION_INACCURATE,c.POSITION_TRACKED,c.POSITION_UNTRACKED].includes(this.positionState)}setPositionUnknown(o){this.setPositionState(c.POSITION_UNKNOWN),this.position_error.emit(o)}setPositionProviderOnMapView(){this.mapView.isReady?this.mapView.setPositionProvider(this):this.mapView.once("ready",()=>{this.mapView.setPositionProvider(this)})}panToCurrentPosition(){this.hasValidPosition()&&(this.mapView.once("idle",()=>{this.mapView.on("user_interaction",()=>this.resetPositionState())}),this.mapView.panTo({lat:this.currentPosition.coords.latitude,lng:this.currentPosition.coords.longitude}),this.positionState!==c.POSITION_TRACKED&&this.setPositionState(c.POSITION_CENTERED),this.canBeTracked&&(DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(o=>{o==="granted"&&this.positionState===c.POSITION_TRACKED?window.addEventListener("deviceorientation",this.handleDeviceOrientationReference):window.removeEventListener("deviceorientation",this.handleDeviceOrientationReference)}):this.positionState===c.POSITION_TRACKED?window.addEventListener("deviceorientation",this.handleDeviceOrientationReference):window.removeEventListener("deviceorientation",this.handleDeviceOrientationReference)))}handleDeviceOrientation(o){(!this.orientation||this.orientation-(360-o.alpha)>1||this.orientation-(360-o.alpha)<-1)&&(this.orientation=360-o.alpha,this.mapView.easeTo({center:[this.currentPosition.coords.longitude,this.currentPosition.coords.latitude],rotation:this.orientation,tilt:60,easing:s=>s*(2-s)}))}setCompassStyle(o){this.compassButton.style.transform=`rotate(${o}deg)`}watchPosition(o=!1){if(!navigator.geolocation)return;this.setPositionState(c.POSITION_REQUESTING),this.setPositionProviderOnMapView();const s=Date.now();navigator.geolocation.watchPosition(M=>{this.currentPosition&&M.coords.accuracy===this.currentPosition.coords.accuracy&&M.coords.latitude===this.currentPosition.coords.latitude&&M.coords.longitude===this.currentPosition.coords.longitude||(this.currentPosition=M,this.positionIsAccurate=this.currentPosition.coords.accuracy<=this.options.maxAccuracy,this.positionIsAccurate?(this.positionState===c.POSITION_TRACKED?this.setPositionState(c.POSITION_UNTRACKED):this.positionState!==c.POSITION_UNTRACKED&&this.setPositionState(c.POSITION_KNOWN),window.removeEventListener("deviceorientation",this.handleDeviceOrientationReference)):(this.setPositionState(c.POSITION_INACCURATE),this.position_error.emit({code:11,message:"Inaccurate position: "+M.coords.accuracy})),this.position_received.emit({position:this.currentPosition,selfInvoked:o,accurate:this.positionIsAccurate}))},M=>{(M.code!==3||!this.currentPosition||this.currentPosition.timestamp<=s)&&this.setPositionUnknown(M)},this.options.positionOptions)}setPositionState(o){this.positionState=o}onCompassButtonClicked(){this.setCompassStyle(0),this.mapView.rotate(0),this.mapView.tilt(0),window.removeEventListener("deviceorientation",this.handleDeviceOrientationReference),this.positionState===c.POSITION_TRACKED?this.setPositionState(c.POSITION_CENTERED):this.positionState===c.POSITION_UNTRACKED&&this.setPositionState(c.POSITION_KNOWN)}onPositionButtonClicked(o){switch(o.stopPropagation(),this.positionState){case c.POSITION_UNKNOWN:this.mapView.tilt(0),this.watchPosition(!0);break;case c.POSITION_KNOWN:this.mapView.tilt(0),this.panToCurrentPosition();break;case c.POSITION_CENTERED:this.canBeTracked&&this.setPositionState(c.POSITION_TRACKED),this.panToCurrentPosition();break;case c.POSITION_TRACKED:this.mapView.tilt(0),this.mapView.rotate(0),this.setCompassStyle(0),this.setPositionState(c.POSITION_CENTERED),this.panToCurrentPosition();break;case c.POSITION_UNTRACKED:this.setPositionState(c.POSITION_TRACKED),this.panToCurrentPosition();break}}connectedCallback(){var o;if(this.mapView=this.mapsindoors.getMapView(),this.options=Ki(this.defaultOptions,(o=this.myPositionOptions)!==null&&o!==void 0?o:{}),!navigator.geolocation){this.position_error.emit({code:10,message:"Geolocation not available"});return}const s=this.parser.getDevice().type;this.canBeTracked=!!(typeof window.DeviceOrientationEvent=="function"&&(s===V.Phone||s===V.Tablet)&&this.mapView.rotatable&&this.mapView.tiltable),!("permissions"in navigator)||!("query"in navigator.permissions)?this.setPositionState(c.POSITION_UNKNOWN):navigator.permissions.query({name:"geolocation"}).then(M=>{M.state==="granted"?this.watchPosition():this.setPositionState(c.POSITION_UNKNOWN)}),this.mapView.on("rotateend",()=>{this.setCompassStyle(this.mapView.getBearing())})}componentDidRender(){this.setCompassStyle(this.mapView.getBearing())}render(){return B(Ai,null,B("div",{class:"mi-my-position"},B("button",{class:`mi-my-position__position-button 
                            ${this.positionState===c.POSITION_UNKNOWN||this.positionState===c.POSITION_INACCURATE?"mi-my-position__position-button--unknown":""}
                            ${this.positionState===c.POSITION_REQUESTING?"mi-my-position__position-button--requesting":""}
                            ${this.positionState===c.POSITION_KNOWN?"mi-my-position__position-button--known":""}
                            ${this.positionState===c.POSITION_CENTERED?"mi-my-position__position-button--centered":""}
                            ${this.positionState===c.POSITION_TRACKED?"mi-my-position__position-button--tracked":""}
                            ${this.positionState===c.POSITION_UNTRACKED?"mi-my-position__position-button--untracked":""}`,onClick:o=>this.onPositionButtonClicked(o)}),B("button",{ref:o=>this.compassButton=o,class:"mi-my-position__compass-button",onClick:()=>this.onCompassButtonClicked()})))}};Vi.style=Bi;export{Vi as mi_my_position};
//# sourceMappingURL=mi-my-position.entry-33ea8547.js.map
