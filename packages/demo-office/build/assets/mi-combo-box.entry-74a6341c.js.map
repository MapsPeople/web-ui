{"version":3,"file":"mi-combo-box.entry-74a6341c.js","sources":["../../../components/dist/esm/mi-combo-box.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-7e9696f3.js';\nimport { S as SortOrder, f as fuzzysort } from './sort-order.enum-64ce8998.js';\nimport './_commonjsHelpers-ba3f0406.js';\n\nconst comboBoxCss = \".mi-input[type=text],.mi-input[type=search],.mi-input[type=number],.mi-input[type=password],.mi-input[type=tel]{font-size:1rem;padding:8px;border-style:solid;border-width:1px;border-color:#8d98aa;border-radius:4px}.mi-input[type=text],.mi-input[type=search],.mi-input[type=number],.mi-input[type=password],.mi-input[type=range],.mi-input[type=tel]{display:block}.mi-input[type=radio],.mi-input[type=checkbox]{margin:0px;transform:scale(1.2, 1.2)}.mi-input[type=search]{padding-left:32px;background:url(\\\"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 24 22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.6267 8.43836C14.6267 11.8561 11.8561 14.6267 8.43836 14.6267C5.02062 14.6267 2.25 11.8561 2.25 8.43836C2.25 5.02062 5.02062 2.25 8.43836 2.25C11.8561 2.25 14.6267 5.02062 14.6267 8.43836Z' stroke='%23aeb9cb' stroke-width='2.5'/%3E%3Crect x='15.0979' y='14.1614' width='7.34678' height='1.32449' rx='0.662244' transform='rotate(45 15.0979 14.1614)' fill='%23aeb9cb' stroke='%23aeb9cb'/%3E%3Crect x='13.7847' y='13.2916' width='1.05276' height='0.697347' transform='rotate(45 13.7847 13.2916)' stroke='%23aeb9cb' stroke-width='0.697346'/%3E%3C/svg%3E%0A\\\") no-repeat scroll 8px center, white}.mi-input:disabled{opacity:0.48;cursor:not-allowed}.mi-label{font-style:normal;display:block;font-size:1rem;font-weight:500;color:#1e2025}.mi-label>*{margin-top:4px}.mi-label>input[type=radio],.mi-label>input[type=checkbox],.mi-label>label.mi-toggle-btn{margin-right:8px}combo-box-item{display:none}:host{display:inline-block;position:relative;font-family:Figtree, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"}:host(.open) .button::after{border-top-color:transparent;border-bottom-color:#1f2937;margin-top:-8px}:host(.open) section{display:flex}:host(.open) svg{transform:rotate(180deg)}.input{position:relative;display:flex;justify-content:flex-start;align-items:center;height:100%;width:100%;font-family:inherit;background:linear-gradient(#f9fafb, #f3f4f6);border-radius:4px;border-width:1px;border-style:solid;border-color:#d1d5db;color:#1c1917;font-size:1rem;font-weight:500;line-height:1rem;padding-right:40px;padding-left:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.input__svg{margin-left:auto;position:absolute;top:50%;right:-42px}.input__label{padding-top:12px;padding-bottom:12px;margin-right:8px;display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.input__label--from-inner-html{display:flex;flex-direction:row;align-items:center;gap:8px}.input:disabled{opacity:0.72;cursor:not-allowed}.content{padding-top:12px;padding-bottom:12px;margin-top:12px;margin-bottom:12px;border-radius:8px;color:#1c1917;font-size:1rem;font-weight:500;background-color:#fcfcfc;box-shadow:0px 2px 2px rgba(0, 0, 0, 0.2), 0px 4px 4px rgba(0, 0, 0, 0.18), 0px 8px 8px rgba(0, 0, 0, 0.16);min-width:320px;max-width:480px;max-height:580px;display:none;flex-direction:column;position:fixed;z-index:10000}.content .list{padding:0;margin:0;list-style:none;overflow-y:auto}.content .list__item{cursor:pointer}.content .list__item--highlighted{background-color:#f3f4f6}.empty-page{display:flex;align-items:left;flex-direction:column;margin-left:16px;margin-bottom:12px}.empty-page>*{margin:0}.empty-page__header{font-size:1rem;font-weight:400;color:#374151}.label{display:flex;flex-direction:row;align-items:center;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px}.label__item{display:inline-block;margin-top:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.label__item--from-inner-html{display:flex;flex-direction:row;align-items:center;gap:8px}.label__checkbox{margin-right:12px}.label__checkbox--hidden{display:none}\";\n\nvar KeyCode;\n(function (KeyCode) {\n  KeyCode[\"ArrowDown\"] = \"ArrowDown\";\n  KeyCode[\"ArrowUp\"] = \"ArrowUp\";\n  KeyCode[\"Enter\"] = \"Enter\";\n  KeyCode[\"Esc\"] = \"Escape\";\n})(KeyCode || (KeyCode = {}));\nconst ComboBox = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.change = createEvent(this, \"change\", 3);\n    /**\n     * Sets the disabled state of the select buttons in the filterable version of the component.\n     */\n    this.isFilterSelectionDisabled = false;\n    /**\n     * Flag to control the mouseover event on the items. The event is disabled when using the arrow keys to navigate the list.\n     */\n    this.isMouseOverEventDisabled = false;\n    this.currentItemIndex = 0;\n    this.selectedItemIndex = 0;\n    this.highlightedItemClassName = 'list__item--highlighted';\n    this.open = false;\n    this.items = [];\n    this.itemsOrder = undefined;\n    this.filterable = false;\n    this.selected = [];\n    this.noResultsMessage = 'No results found';\n    this.currentItems = [];\n    this.disabled = false;\n  }\n  onItemsChanged(items) {\n    if (items.some(item => item.tagName.toLowerCase() !== 'combo-box-item')) {\n      throw new Error('Items contains unknown element(s).');\n    }\n    if (Object.values(SortOrder).includes(this.itemsOrder)) {\n      items = this.getSortedItems(items);\n    }\n    this.currentItems = [...items];\n    this.filter();\n    if (!this.filterable) {\n      const selectedItemIndex = this.currentItems.findIndex(item => item.selected);\n      this.currentItemIndex = selectedItemIndex > -1 ? selectedItemIndex : 0;\n      this.selectedItemIndex = this.currentItemIndex;\n    }\n    this.items.forEach((item, itemIndex) => {\n      item.dataset.index = itemIndex.toString();\n    });\n    this.selectFirstMiDropdownItem();\n  }\n  onCurrentItemsChange() {\n    this.isFilterSelectionDisabled = this.currentItems.length === 0;\n  }\n  /**\n   * Outside the dropdown listener. It will close the dropdown when a click is outside a dropdown and dropdown list.\n   *\n   * @param {ev} ev\n   */\n  checkForClickOutside(ev) {\n    var _a;\n    if (!this.hostElement.contains(ev.target) && this.noResultsMessage) {\n      this.clearFilter();\n      this.filterElement.value = (_a = this.selected[0]) === null || _a === void 0 ? void 0 : _a.text;\n      this.open = false;\n    }\n  }\n  /**\n   * When clicked on input button we change it's type to text and highlight value that is inside.\n   *\n   * @param {Event} event\n   */\n  onClickExists(event) {\n    this.open = true;\n    event.target.type = 'text';\n    this.filterElement.select();\n  }\n  /**\n   * Mousemove event handler.\n   * When the mouse is moved the mouseover event handler is enabled.\n   */\n  mouseMoveEventHandler() {\n    this.isMouseOverEventDisabled = false;\n  }\n  /**\n   * Scroll event handler.\n   * The dropdown is closed when the scroll event is trigget outside the dropdown.\n   */\n  scrollEventHandler(event) {\n    const target = event.target;\n    if (!target || !this.hostElement.contains(target)) {\n      this.open = false;\n    }\n  }\n  /**\n   * Resize event handler.\n   * Recalculate the position of the dropdown when the window is resized.\n   */\n  resizeEventHandler() {\n    this.calculateDropDownPosition();\n  }\n  /**\n   * Component did load.\n   */\n  componentDidLoad() {\n    this.createMiDropdownItemsFromDocument();\n    this.selectFirstMiDropdownItem();\n    this.enableKeyboardNavigationEvents();\n    const filterElementObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting === true) {\n          this.filterElement.blur();\n        }\n      });\n    });\n    if (this.filterElement !== undefined) {\n      filterElementObserver.observe(this.filterElement);\n      this.filterElement.addEventListener('keydown', (event) => {\n        if (event.key === KeyCode.ArrowDown || event.key === KeyCode.ArrowUp) {\n          event.preventDefault();\n        }\n      });\n    }\n  }\n  /**\n   * Component did rener.\n   */\n  componentDidRender() {\n    this.calculateDropDownPosition();\n    if (!this.filterable) {\n      // Makes sure that an item is always highlighted when the content window is open.\n      this.highlightItem(this.currentItemIndex, true);\n    }\n  }\n  /**\n   * Gets all mi-dropdown-item elements for the mi-dropdown items property.\n   */\n  createMiDropdownItemsFromDocument() {\n    const items = this.items && this.items.length > 0 ? this.items : this.hostElement.querySelectorAll('combo-box-item');\n    if (items.length > 0) {\n      this.items = Array.from(items);\n    }\n  }\n  /**\n   * Set the first mi-dropdown-item as the textual content of the button.\n   */\n  selectFirstMiDropdownItem() {\n    var _a;\n    if (!this.filterable) {\n      const selectedIndex = (_a = this.items) === null || _a === void 0 ? void 0 : _a.findIndex((item) => { return item.selected; });\n      this.selected = [this.items[selectedIndex > -1 ? selectedIndex : 0]];\n    }\n  }\n  /**\n   * Enables cycling through the items in the content window using arrow up/down keys.\n   */\n  enableKeyboardNavigationEvents() {\n    this.hostElement.addEventListener('keydown', event => {\n      if (this.open === false && event.key === KeyCode.ArrowDown) {\n        this.isMouseOverEventDisabled = true;\n        this.toggleContentWindow();\n        event.preventDefault();\n        return;\n      }\n      if (this.open === true && !this.filterable) {\n        switch (event.key) {\n          case KeyCode.ArrowDown || KeyCode.ArrowUp:\n            this.isMouseOverEventDisabled = true;\n            this.currentItemIndex = (this.currentItemIndex + 1) % this.currentItems.length;\n            this.highlightItem(this.currentItemIndex, true);\n            event.preventDefault();\n            break;\n          case KeyCode.ArrowUp:\n            this.isMouseOverEventDisabled = true;\n            this.currentItemIndex = ((this.currentItemIndex + this.currentItems.length) - 1) % this.currentItems.length;\n            this.highlightItem(this.currentItemIndex, true);\n            event.preventDefault();\n            break;\n          case KeyCode.Enter:\n            if (this.hostElement.shadowRoot.activeElement === this.clearButtonElement) {\n              // When the clear button is focused and Enter is pressed, don't select the\n              // currently highlighted item or close the content window.\n              return;\n            }\n            if (this.currentItems[this.currentItemIndex] !== undefined) {\n              this.onSelect(this.currentItems[this.currentItemIndex]);\n            }\n            event.preventDefault();\n            break;\n        }\n      }\n      // This case must be applied to all types of the dropdown component.\n      if (event.key === KeyCode.Esc) {\n        if (!this.filterable) {\n          this.currentItemIndex = this.selectedItemIndex;\n          this.highlightItem(this.currentItemIndex);\n        }\n        this.toggleContentWindow();\n        this.clearFilter();\n      }\n    });\n  }\n  /**\n   * Updates the currently highlighted item in the markup.\n   *\n   * @param {number} itemIndex\n   */\n  highlightItem(itemIndex, scrollIntoView = false) {\n    var _a, _b;\n    const items = this.hostElement.shadowRoot.querySelectorAll('.list__item');\n    items.forEach(item => {\n      item.classList.remove(this.highlightedItemClassName);\n    });\n    (_a = items[itemIndex]) === null || _a === void 0 ? void 0 : _a.classList.add(this.highlightedItemClassName);\n    if (scrollIntoView) {\n      (_b = items[itemIndex]) === null || _b === void 0 ? void 0 : _b.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n    }\n  }\n  /**\n   * Get sorted items.\n   * The sorting order is defined by the itemsOrder attribute.\n   *\n   * @param {HTMLMiDropdownItemElement[]} items\n   * @returns {HTMLMiDropdownItemElement[]}\n   */\n  getSortedItems(items) {\n    if (this.itemsOrder === SortOrder.Asc) {\n      // Ascending order\n      items.sort((a, b) => (a.text || a.innerText)\n        .trimStart()\n        .toLowerCase()\n        .localeCompare((b.text || b.innerText).trimStart().toLowerCase(), undefined, { numeric: true }));\n    }\n    else {\n      // Descending order\n      items.sort((b, a) => (a.text || a.innerText)\n        .trimStart()\n        .toLowerCase()\n        .localeCompare((b.text || b.innerText).trimStart().toLowerCase(), undefined, { numeric: true }));\n    }\n    return items;\n  }\n  /**\n   * Update and emit list of selected items.\n   */\n  onChangedHandler() {\n    this.selected = [...this.items.filter(item => item.selected)];\n    this.change.emit(this.selected);\n  }\n  /**\n   * Toggle visibility of content window.\n   */\n  toggleContentWindow() {\n    this.open = !this.open;\n  }\n  /**\n   * Select or toggle selection of item.\n   *\n   * @param {HTMLMiDropdownItemElement} item\n   */\n  onSelect(item) {\n    if (!this.filterable) {\n      this.open = false;\n      const items = Array.from(this.items);\n      items.forEach((item) => {\n        item.selected = false;\n      });\n      this.clearFilter();\n    }\n    item.selected = !item.selected;\n    this.currentItemIndex = Number(item.dataset.index);\n    this.selectedItemIndex = this.currentItemIndex;\n    this.onChangedHandler();\n  }\n  /**\n   * Highlights the item that the cursor is hovering in the content window.\n   *\n   * @param {number} filteredItemsIndex\n   */\n  onMouseOver(filteredItemsIndex) {\n    if (!this.isMouseOverEventDisabled && !this.filterable) {\n      this.highlightItem(filteredItemsIndex);\n      this.currentItemIndex = filteredItemsIndex;\n    }\n  }\n  /**\n   * Filter items based on input query.\n   *\n   * @returns {HTMLMiDropdownItemElement[]}\n   */\n  filter() {\n    if (this.filterElement) {\n      const inputQuery = this.filterElement.value;\n      const miDropdownItemTexts = this.items.map(item => (item.text || item.innerText));\n      const numberOfItemsDisplayed = this.currentItems.length;\n      if (inputQuery === '') {\n        this.currentItemIndex = this.selectedItemIndex;\n        return this.currentItems = [...this.items];\n      }\n      const searchResultsOptions = {\n        limit: 50,\n        allowTypo: false,\n        threshold: -10000\n      };\n      const fuzzyResults = fuzzysort.go(inputQuery, miDropdownItemTexts, searchResultsOptions);\n      const filteredItems = fuzzyResults.map(result => this.items.find(item => (item.text || item.innerText) === result.target));\n      this.currentItems = filteredItems;\n      if (numberOfItemsDisplayed !== this.currentItems.length) {\n        this.currentItemIndex = 0;\n      }\n    }\n  }\n  /**\n   * Clear filter.\n   */\n  clearFilter() {\n    var _a;\n    if (this.filterElement) {\n      this.filterElement.value = (_a = this.selected[0]) === null || _a === void 0 ? void 0 : _a.text;\n      this.filterElement.blur();\n      this.currentItems = this.items;\n    }\n  }\n  /**\n   * Render input field - combobox.\n   *\n   * @returns {Host}\n   */\n  render() {\n    var _a;\n    const listOfItems = (h(\"ul\", { class: \"list\" }, this.currentItems.map((item, index) => this.renderListItem(item, index, this.filterable))));\n    return (h(Host, { class: { 'open': this.open } }, h(\"input\", { type: \"text\", class: \"input\", onFocus: (event) => this.onClickExists(event), ref: (el) => this.filterElement = el, onInput: () => this.filter(), tabIndex: 0, value: (_a = this.selected[0]) === null || _a === void 0 ? void 0 : _a.text }), h(\"svg\", { role: 'button', class: \"input__svg\", part: \"icon-down-arrow\", width: \"12\", height: \"6\", viewBox: \"0 0 18 10\", xmlns: \"http://www.w3.org/2000/svg\", onClick: () => this.toggleContentWindow() }, h(\"path\", { d: \"M9.37165 9.58706C9.17303 9.80775 8.82697 9.80775 8.62835 9.58706L0.751035 0.834484C0.46145 0.512722 0.689796 7.73699e-08 1.12268 1.25924e-07L16.8773 1.89302e-06C17.3102 1.94157e-06 17.5386 0.512723 17.249 0.834484L9.37165 9.58706Z\" })), h(\"section\", { ref: (el) => this.listElement = el, part: \"dropdown-container\", class: \"content\" }, this.currentItems.length === 0 ? this.renderNoResultsTemplate() : listOfItems)));\n  }\n  /**\n   * Helper function to render markup when no items are available to be displayed in the content window.\n   *\n   * @returns {JSX.Element}\n   */\n  renderNoResultsTemplate() {\n    const noResultsTemplate = (h(\"div\", { class: \"empty-page\" }, h(\"p\", { class: \"empty-page__header\" }, this.noResultsMessage)));\n    return noResultsTemplate;\n  }\n  /**\n   * Helper function for rendering list item.\n   *\n   * @param {HTMLMiDropdownItemElement} item\n   * @param {number} index\n   * @param {boolean} showCheckBox\n   * @returns {JSX.Element}\n   */\n  renderListItem(item, index, showCheckBox) {\n    let itemText;\n    const itemTooltipInfo = (item.getAttribute('title') || item.text || item.innerText);\n    if (item.innerText.length > 0) {\n      itemText = h(\"div\", { class: \"label__item label__item--from-inner-html\", innerHTML: item.innerHTML });\n    }\n    else {\n      itemText = h(\"div\", { class: \"label__item\", innerHTML: item.text });\n    }\n    return (h(\"li\", { class: \"list__item\", title: itemTooltipInfo, onMouseOver: () => { this.onMouseOver(index); } }, h(\"label\", { class: \"mi-label label\", tabindex: \"-1\" }, h(\"input\", { class: { 'label__checkbox': true, 'label__checkbox--hidden': !showCheckBox, 'mi-input': true }, type: \"checkbox\", value: index, checked: item.selected, onChange: () => this.onSelect(item) }), itemText)));\n  }\n  /**\n   * Function for calculating the position of the dropdown list element.\n   */\n  calculateDropDownPosition() {\n    this.listElement.style.bottom = null;\n    this.listElement.style.left = null;\n    this.listElement.style.right = null;\n    this.listElement.style.top = null;\n    this.listElement.style.maxHeight = null;\n    this.listElement.style.minWidth = null;\n    const { clientWidth, clientHeight } = document.documentElement;\n    const hostElementRect = this.hostElement.getBoundingClientRect();\n    const listElementRect = this.listElement.getBoundingClientRect();\n    const availableSpaceBelowComponent = clientHeight - hostElementRect.bottom;\n    const availableSpaceAboveComponent = hostElementRect.top;\n    const MAX_HEIGHT = 580;\n    const MARGIN = 12;\n    if (clientWidth <= listElementRect.width || (hostElementRect.right - listElementRect.width < 0 && listElementRect.right > clientWidth)) {\n      this.listElement.style.right = `${MARGIN}px`;\n      this.listElement.style.left = `${MARGIN}px`;\n      this.listElement.style.minWidth = 'unset';\n    }\n    else if (listElementRect.right > clientWidth) {\n      this.listElement.style.left = 'unset';\n      this.listElement.style.right = `${clientWidth - hostElementRect.right}px`;\n    }\n    else {\n      this.listElement.style.left = `${hostElementRect.left}px`;\n      this.listElement.style.right = 'unset';\n    }\n    if (availableSpaceAboveComponent > availableSpaceBelowComponent) {\n      this.listElement.style.maxHeight = `${Math.min(availableSpaceAboveComponent, MAX_HEIGHT)}px`;\n      this.listElement.style.top = 'unset';\n      this.listElement.style.bottom = `${clientHeight - hostElementRect.top}px`;\n    }\n    else {\n      this.listElement.style.top = `${hostElementRect.bottom}px`;\n      this.listElement.style.bottom = 'unset';\n      this.listElement.style.maxHeight = `${Math.min(availableSpaceBelowComponent - (MARGIN * 2), MAX_HEIGHT)}px`;\n    }\n  }\n  get hostElement() { return getElement(this); }\n  static get watchers() { return {\n    \"items\": [\"onItemsChanged\"],\n    \"currentItems\": [\"onCurrentItemsChange\"]\n  }; }\n};\nComboBox.style = comboBoxCss;\n\nexport { ComboBox as mi_combo_box };\n"],"names":["comboBoxCss","KeyCode","ComboBox","hostRef","registerInstance","createEvent","items","item","SortOrder","selectedItemIndex","itemIndex","ev","_a","event","target","filterElementObserver","entries","entry","selectedIndex","scrollIntoView","_b","a","b","filteredItemsIndex","inputQuery","miDropdownItemTexts","numberOfItemsDisplayed","searchResultsOptions","filteredItems","fuzzysort","result","listOfItems","h","index","Host","el","showCheckBox","itemText","itemTooltipInfo","clientWidth","clientHeight","hostElementRect","listElementRect","availableSpaceBelowComponent","availableSpaceAboveComponent","MAX_HEIGHT","MARGIN","getElement"],"mappings":"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"}