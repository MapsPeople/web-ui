{"version":3,"file":"mi-share-sms.entry-0fb21c5f.js","sources":["../../../components/dist/esm/mi-share-sms.entry.js"],"sourcesContent":["import { r as registerInstance, c as createEvent, h } from './index-7e9696f3.js';\n\nconst shareSmsCss = \"a.mi-button{cursor:default}.mi-button{border-radius:4px;border-width:1px;border-style:solid;font-family:Inter, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";font-size:1rem;font-weight:500;padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:12px;display:inline-flex;align-items:center}.mi-button:disabled{opacity:0.48;cursor:not-allowed}.mi-button object{filter:invert(9%) sepia(13%) saturate(692%) hue-rotate(185deg) brightness(98%) contrast(91%);width:16px;height:16px}.mi-button--small{padding-left:12px;padding-right:12px;padding-top:8px;padding-bottom:8px;font-size:0.875rem;height:32px}.mi-button--small object{width:16px;height:16px}.mi-button--large{padding-left:16px;padding-right:16px;font-size:1.25rem}.mi-button--large object{width:20px;height:20px}.mi-button--full-width{width:100%;justify-content:center}.mi-button--icon-left{padding-left:12px}.mi-button--icon-left object{margin-right:8px}.mi-button--icon-right{padding-right:12px}.mi-button--icon-right object{margin-left:8px}.mi-button--icon-both{padding-top:12px;padding-bottom:12px}.mi-button--icon-both object:first-of-type{margin-right:8px}.mi-button--icon-both object:last-of-type{margin-left:8px}.mi-button--base{background:linear-gradient(#f5f7fa, #ebeff5);color:#1e2025;border-color:#c8d0e0}.mi-button--base:not(:disabled):hover{background:linear-gradient(#ebeff5, #dee3ed);border-color:#aeb9cb}.mi-button--base:not(:disabled):active{background:linear-gradient(#dee3ed, #ebeff5)}.mi-button--primary{color:#ffffff;border-color:#20693e;background:linear-gradient(#3ba064, #2a844e)}.mi-button--primary object{filter:invert(100%) sepia(93%) saturate(0%) hue-rotate(201deg) brightness(106%) contrast(106%)}.mi-button--primary:not(:disabled):hover{background:linear-gradient(#2a844e, #20693e)}.mi-button--primary:not(:disabled):active{background:linear-gradient(#20693e, #2a844e)}.mi-button--delete{background:linear-gradient(#f55151, #de1b1b);color:#ffffff;border-color:#ba0d0d}.mi-button--delete object{filter:invert(100%) sepia(93%) saturate(0%) hue-rotate(201deg) brightness(106%) contrast(106%)}.mi-button--delete:not(:disabled):hover{background:linear-gradient(#de1b1b, #ba0d0d)}.mi-button--delete:not(:disabled):active{background:linear-gradient(#ba0d0d, #de1b1b)}.mi-button--outline{color:#3071d9;border-color:#3071d9;background-color:transparent}.mi-button--outline object{filter:invert(38%) sepia(97%) saturate(742%) hue-rotate(188deg) brightness(86%) contrast(97%)}.mi-button--outline:not(:disabled):hover{color:#1d5bbf;border-color:#1d5bbf;background-color:#eef4fc}.mi-button--outline:not(:disabled):active{color:#1d5bbf;border-color:#1d5bbf;background-color:#cfe0fc}.mi-button--link{color:#3071d9;border-style:none;background-color:transparent;cursor:pointer}.mi-button--link object{filter:invert(38%) sepia(97%) saturate(742%) hue-rotate(188deg) brightness(86%) contrast(97%)}.mi-button--link:not(:disabled):hover{color:#1d5bbf;border-color:#1d5bbf;background-color:#eef4fc}.mi-button--link:disabled:hover{cursor:not-allowed}.mi-button--link:not(:disabled):active{color:#1d5bbf;border-color:#1d5bbf;background-color:#cfe0fc}.width-none{width:0}.width-xxx-small{width:2px}.width-xx-small{width:4px}.width-x-small{width:8px}.width-small{width:12px}.width-medium{width:16px}.width-large{width:24px}.width-x-large{width:32px}.width-xx-large{width:40px}.width-xxx-large{width:48px}.width-xxxx-large{width:64px}.min-width-none{min-width:0}.min-width-xxx-small{min-width:2px}.min-width-xx-small{min-width:4px}.min-width-x-small{min-width:8px}.min-width-small{min-width:12px}.min-width-medium{min-width:16px}.min-width-large{min-width:24px}.min-width-x-large{min-width:32px}.min-width-xx-large{min-width:40px}.min-width-xxx-large{min-width:48px}.min-width-xxxx-large{min-width:64px}.max-width-none{max-width:0}.max-width-xxx-small{max-width:2px}.max-width-xx-small{max-width:4px}.max-width-x-small{max-width:8px}.max-width-small{max-width:12px}.max-width-medium{max-width:16px}.max-width-large{max-width:24px}.max-width-x-large{max-width:32px}.max-width-xx-large{max-width:40px}.max-width-xxx-large{max-width:48px}.max-width-xxxx-large{max-width:64px}.height-none{height:0}.height-xxx-small{height:2px}.height-xx-small{height:4px}.height-x-small{height:8px}.height-small{height:12px}.height-medium{height:16px}.height-large{height:24px}.height-x-large{height:32px}.height-xx-large{height:40px}.height-xxx-large{height:48px}.height-xxxx-large{height:64px}.min-height-none{min-height:0}.min-height-xxx-small{min-height:2px}.min-height-xx-small{min-height:4px}.min-height-x-small{min-height:8px}.min-height-small{min-height:12px}.min-height-medium{min-height:16px}.min-height-large{min-height:24px}.min-height-x-large{min-height:32px}.min-height-xx-large{min-height:40px}.min-height-xxx-large{min-height:48px}.min-height-xxxx-large{min-height:64px}.max-height-none{max-height:0}.max-height-xxx-small{max-height:2px}.max-height-xx-small{max-height:4px}.max-height-x-small{max-height:8px}.max-height-small{max-height:12px}.max-height-medium{max-height:16px}.max-height-large{max-height:24px}.max-height-x-large{max-height:32px}.max-height-xx-large{max-height:40px}.max-height-xxx-large{max-height:48px}.max-height-xxxx-large{max-height:64px}.debug *{outline:1px solid gold}.flex{display:flex;flex:1}.inline-flex{display:inline-flex}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.display-block{display:block}.display-inline-block{display:inline-block}.display-inline{display:inline}.display-none{display:none}.text-decoration-none{text-decoration:none}.text-right{text-align:right}.text-left{text-align:left}.text-center{text-align:center}.margin-auto{margin-left:auto;margin-right:auto}form .inputs{margin:0 auto;width:80%;padding-top:32px;padding-bottom:32px;position:relative;display:flex;flex-direction:row;align-items:center}form .inputs span.plus-sign{position:absolute;left:16px;display:block;font-size:1rem;font-family:Figtree, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";color:#1c1917;top:50%;transform:translateY(-50%)}form .inputs input{padding-left:12px;padding-right:12px;background-color:#ffffff;border-style:solid;border-width:1px;border-radius:8px;height:48px;font-size:1.25rem;font-family:Figtree, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";color:#1c1917;box-sizing:border-box}form .inputs input:focus{border-color:#3b82f6;box-shadow:0 0 0 2px #dbeafe}form .inputs input.country-code{width:15%;min-width:88px;margin-right:16px;padding-left:32px}form .inputs input.phone-number{width:85%}form button{margin-top:32px;margin-bottom:24px}\";\n\nconst ShareSms = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.successfullySent = createEvent(this, \"successfullySent\", 7);\n    this.unsuccessfullySent = createEvent(this, \"unsuccessfullySent\", 7);\n    /**\n     * Handle form submission event and send directions to phone if validation checks passes.\n     */\n    this.submitFormHandler = (event) => {\n      event.preventDefault();\n      const isParametersValid = this.venueId && this.originLocationId && this.destinationLocationId ? true : false;\n      if (!this.formElement.checkValidity() || !isParametersValid) {\n        if (!this.countryCodeInputElement.validity.valid) {\n          this.countryCodeInputElement.focus();\n        }\n        if (!this.phoneNumberInputElement.validity.valid) {\n          this.phoneNumberInputElement.focus();\n        }\n        return;\n      }\n      mapsindoors.services.ShareService.directionsToPhone(this.venueId, this.originLocationId, this.destinationLocationId, this.countryCodeInputElement.value, this.phoneNumberInputElement.value)\n        .then(() => this.successfullySent.emit())\n        .catch((err) => this.unsuccessfullySent.emit(err));\n    };\n    this.venueId = undefined;\n    this.originLocationId = undefined;\n    this.destinationLocationId = undefined;\n    this.countryCode = '1';\n    this.phoneNumberInputPlaceholder = 'Enter phone number';\n    this.submitButtonLabel = 'Send SMS';\n  }\n  componentDidRender() {\n    this.countryCodeInputElement.value = this.countryCode;\n  }\n  componentDidLoad() {\n    this.addIntersectionObserver();\n  }\n  /**\n   * Observe the input field for phone number and focus it on intersection.\n   */\n  addIntersectionObserver() {\n    this.intersectionObserver = new IntersectionObserver((entries) => {\n      if (entries[0].intersectionRatio <= 0) {\n        return;\n      }\n      this.phoneNumberInputElement.focus();\n      this.intersectionObserver.disconnect();\n    });\n    this.intersectionObserver.observe(this.phoneNumberInputElement);\n  }\n  /**\n   * Set input attribute on mi-keyboard component.\n   *\n   * @param {FocusEvent} event\n   */\n  setKeyboardInputElement(event) {\n    this.miKeyboardElement.inputElement = event.target;\n  }\n  /**\n   * Update form validity.\n   */\n  updateFormValidity() {\n    // Form validity check\n    if (!this.formElement.checkValidity()) {\n      this.submitButtonElement.disabled = true;\n      return;\n    }\n    this.submitButtonElement.disabled = false;\n  }\n  render() {\n    return (h(\"form\", { onSubmit: this.submitFormHandler, ref: (el) => this.formElement = el }, h(\"div\", { class: \"inputs\" }, h(\"span\", { class: \"plus-sign\" }, \"\\uFF0B\"), h(\"input\", { id: \"country-code\", class: \"country-code\", pattern: \"[0-9]{1,3}\", required: true, autocomplete: \"off\", type: \"text\", placeholder: this.countryCode, ref: (el) => this.countryCodeInputElement = el, onInput: () => this.updateFormValidity(), onFocus: (e) => this.setKeyboardInputElement(e) }), h(\"input\", { id: \"phone-number\", class: \"phone-number\", pattern: \"[0-9]{6,10}\", required: true, autocomplete: \"off\", type: \"text\", placeholder: this.phoneNumberInputPlaceholder, ref: (el) => this.phoneNumberInputElement = el, onInput: () => this.updateFormValidity(), onFocus: (e) => this.setKeyboardInputElement(e) })), h(\"mi-keyboard\", { layout: \"numeric\", ref: (el) => this.miKeyboardElement = el }), h(\"div\", { class: \"flex justify-center\" }, h(\"button\", { type: \"submit\", disabled: true, class: \"mi-button mi-button--primary\", ref: (el) => this.submitButtonElement = el }, this.submitButtonLabel))));\n  }\n};\nShareSms.style = shareSmsCss;\n\nexport { ShareSms as mi_share_sms };\n"],"names":["shareSmsCss","ShareSms","hostRef","registerInstance","createEvent","event","isParametersValid","err","entries","h","el","e"],"mappings":"sDAEA,MAAMA,EAAc,u6NAEdC,EAAW,KAAM,CACrB,YAAYC,EAAS,CACnBC,EAAiB,KAAMD,CAAO,EAC9B,KAAK,iBAAmBE,EAAY,KAAM,mBAAoB,CAAC,EAC/D,KAAK,mBAAqBA,EAAY,KAAM,qBAAsB,CAAC,EAInE,KAAK,kBAAqBC,GAAU,CAClCA,EAAM,eAAc,EACpB,MAAMC,EAAoB,QAAK,SAAW,KAAK,kBAAoB,KAAK,uBACxE,GAAI,CAAC,KAAK,YAAY,cAAe,GAAI,CAACA,EAAmB,CACtD,KAAK,wBAAwB,SAAS,OACzC,KAAK,wBAAwB,QAE1B,KAAK,wBAAwB,SAAS,OACzC,KAAK,wBAAwB,QAE/B,OAEF,YAAY,SAAS,aAAa,kBAAkB,KAAK,QAAS,KAAK,iBAAkB,KAAK,sBAAuB,KAAK,wBAAwB,MAAO,KAAK,wBAAwB,KAAK,EACxL,KAAK,IAAM,KAAK,iBAAiB,KAAI,CAAE,EACvC,MAAOC,GAAQ,KAAK,mBAAmB,KAAKA,CAAG,CAAC,CACzD,EACI,KAAK,QAAU,OACf,KAAK,iBAAmB,OACxB,KAAK,sBAAwB,OAC7B,KAAK,YAAc,IACnB,KAAK,4BAA8B,qBACnC,KAAK,kBAAoB,UAC1B,CACD,oBAAqB,CACnB,KAAK,wBAAwB,MAAQ,KAAK,WAC3C,CACD,kBAAmB,CACjB,KAAK,wBAAuB,CAC7B,CAID,yBAA0B,CACxB,KAAK,qBAAuB,IAAI,qBAAsBC,GAAY,CAC5DA,EAAQ,CAAC,EAAE,mBAAqB,IAGpC,KAAK,wBAAwB,QAC7B,KAAK,qBAAqB,aAChC,CAAK,EACD,KAAK,qBAAqB,QAAQ,KAAK,uBAAuB,CAC/D,CAMD,wBAAwBH,EAAO,CAC7B,KAAK,kBAAkB,aAAeA,EAAM,MAC7C,CAID,oBAAqB,CAEnB,GAAI,CAAC,KAAK,YAAY,gBAAiB,CACrC,KAAK,oBAAoB,SAAW,GACpC,OAEF,KAAK,oBAAoB,SAAW,EACrC,CACD,QAAS,CACP,OAAQI,EAAE,OAAQ,CAAE,SAAU,KAAK,kBAAmB,IAAMC,GAAO,KAAK,YAAcA,CAAE,EAAID,EAAE,MAAO,CAAE,MAAO,QAAQ,EAAIA,EAAE,OAAQ,CAAE,MAAO,WAAW,EAAI,GAAQ,EAAGA,EAAE,QAAS,CAAE,GAAI,eAAgB,MAAO,eAAgB,QAAS,aAAc,SAAU,GAAM,aAAc,MAAO,KAAM,OAAQ,YAAa,KAAK,YAAa,IAAMC,GAAO,KAAK,wBAA0BA,EAAI,QAAS,IAAM,KAAK,mBAAoB,EAAE,QAAUC,GAAM,KAAK,wBAAwBA,CAAC,CAAC,CAAE,EAAGF,EAAE,QAAS,CAAE,GAAI,eAAgB,MAAO,eAAgB,QAAS,cAAe,SAAU,GAAM,aAAc,MAAO,KAAM,OAAQ,YAAa,KAAK,4BAA6B,IAAMC,GAAO,KAAK,wBAA0BA,EAAI,QAAS,IAAM,KAAK,mBAAoB,EAAE,QAAUC,GAAM,KAAK,wBAAwBA,CAAC,CAAC,CAAE,CAAC,EAAGF,EAAE,cAAe,CAAE,OAAQ,UAAW,IAAMC,GAAO,KAAK,kBAAoBA,CAAI,CAAA,EAAGD,EAAE,MAAO,CAAE,MAAO,qBAAqB,EAAIA,EAAE,SAAU,CAAE,KAAM,SAAU,SAAU,GAAM,MAAO,+BAAgC,IAAMC,GAAO,KAAK,oBAAsBA,CAAI,EAAE,KAAK,iBAAiB,CAAC,CAAC,CACjjC,CACH,EACAT,EAAS,MAAQD"}